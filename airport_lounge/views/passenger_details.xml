<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="passenger_details_action" model="ir.actions.act_window">
        <field name="name">Passenger Details</field>
        <field name="res_model">passenger.registration</field>
        <field name="view_mode">tree,form</field>
    </record>
    <record id="passenger_details_view" model="ir.ui.view">
        <field name="name">passenger.registration.form</field>
        <field name="model">passenger.registration</field>
        <field name="arch" type="xml">
            <form string="passenger">
                <sheet>
                    <header>
                        <field name="state" widget="statusbar"
                               statusbar_visible="draft,register,validate,reject"/>
                        <field name="camera_capture"/>
                        <button name="validate_card" string="Validate Card"
                                type="object" class="oe_highlight"/>
                        <button name="reject_card" string="Reject Card"
                                type="object" class="oe_highlight"/>

                    </header>
                    <group name="Passenger">
                        <group>
                            <field name="airline_id"/>
                            <field name="client_id"/>
                            <field name="flight_number"/>
                            <field name="first_name"/>
                            <field name="last_name"/>
                            <field name="origin"/>
                            <field name="destination"/>
                            <field name="passenger"/>
                        </group>

                        <group name="airline" style="margin-top:80px;">
                               <field name="cabin_class_id"/>
                            <field name="frequent_flair_class_id"/>
                            <field  name="frequent_passenger_number" />
                            <field name="seat_number"/>
                            <field name="reservation"/>
                            <field name="date" />

                            <!--                            <field name="airline"/>-->

                            <!--                            <field name="frequent_passenger_number"/>-->
                            <field name="connection_flight"/>
                            <field name="invitation"/>

                        </group>
                        <group name="code" style="margin-left:645px;">
<!--                             <div class="oe_button_box" style="margin-left:380px;">-->
<!--                                <label for="name"/>-->
                                <field name="name"/>
<!--                        </div>-->
                        </group>


                    </group>


                    <notebook>
                        <page string="Guest" name="guest">
                            <group name="guest">
                                <group>
                                    <field name="no_of_guest"/>
                                    <field name="no_of_guest_pay"/>
                                    <field name="no_of_guest_entry"/>
                                    <field name="bar_courtesy"/>
                                    <button name="guest_registration"
                                            string="Guest Registration"
                                            class="oe_highlight"/>
                                    <button name="shower_registration"
                                            string="Shower Registration"
                                            class="oe_highlight"/>

                                </group>
                            </group>
                        </page>
                        <page string="Stay">
                            <group>
                                <field name="date_of_flight"/>
                                <field name="entry_time_allowed"/>
                                <field name="hour_of_exit"/>
                                <field name="hour_entry"/>
                            </group>
                        </page>
                        <page name="connection_flight" string="Connection Flight" attrs="{'invisible': [('connection_flight','!=',True)]}" >
                            <field name="child_ids" mode="kanban"
                                   context="{'default_connection_flight': True,'default_name':name}">


                                <kanban string="Connection Flight">
                                    <field name="flight_number"/>
                                    <field name="cabin_class_id"/>
                                    <field name="seat_number"/>
                                    <field name="origin"/>
                                    <field name="destination"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <div>

                                                <div class="oe_kanban_details">
                                                    <field name="flight_number"/>

                                                    <div>
                                                        <field name="cabin_class_id"/>
                                                        <field name="seat_number"/>
                                                    </div>
                                                    <field name="origin"/>
                                                </div>
                                                <!--                                                    <div t-if="record.phone.raw_value">Phone: <t t-esc="record.phone.value"/></div>-->
                                                <!--                                                    <div t-if="record.mobile.raw_value">Mobile: <t t-esc="record.mobile.value"/></div>-->

                                            </div>
                                        </t>
                                    </templates>


                                </kanban>
                                <form>
                                    <group name="Passenger Form">
                                        <group>
                                            <field name="airline_id"/>
                                            <field name="flight_number"/>
                                            <field name="origin"/>
                                            <field name="destination"/>
                                            <field name="passenger"/>

                                        </group>
                                        <group>
                                            <field name="cabin_class_id"/>
                                            <field name="frequent_flair_class_id"/>
                                            <field  name="frequent_passenger_number" />
                                            <field name="seat_number"/>
                                            <field name="reservation"/>
                                            <field name="date" />
                                            <field name="name"/>
                                        </group>

                                    </group>

                                </form>
                            </field>
                        </page>


                    </notebook>


                </sheet>
            </form>
        </field>
    </record>
    <record id="passenger_details_tree_view" model="ir.ui.view">
        <field name="name">passenger.registration.tree</field>
        <field name="model">passenger.registration</field>
        <field name="arch" type="xml">
            <tree string="passenger">

                <field name="client_id"/>
                <field name="airline_id"/>
                <field name="time_alert"/>
                <field name="category_id"/>
                <field name="no_of_people"/>
                <field name="flight_number"/>
                <field name="seat_number"/>
                <field name="cabin_class_id"/>
                <field name="voucher_id"/>
                <field name="voucher_qty"/>
                <field name="account_number"/>
                <field name="reservation"/>
                <field name="invoiced_group"/>
                <field name="invitation"/>

            </tree>
        </field>
    </record>
    <record id="passenger_search_view" model="ir.ui.view">
        <field name="name">passenger.registration.view.search</field>
        <field name="model">passenger.registration</field>
        <field name="arch" type="xml">
            <search string="passenger">

                <filter name="client_id" string="Client"
                        context="{'group_by':'client_id'}"/>
                <filter name="filter_client_id" string="Client"/>
                <filter name="airline_id" string="Airline"
                        context="{'group_by':'airline_id'}"/>
                <filter name="airline_id" string="Airline"/>
            </search>
        </field>
    </record>

    <!--    <menuitem id="user_registration" action="user_registration_action"-->
    <!--              name="User Registration"-->
    <!--              parent="airport_lounge.airport_lounge_root" sequence="1"/>-->

    <menuitem id="passenger_details" name="Passenger Details"
              action="passenger_details_action" sequence="1"
              parent="airport_lounge.airport_lounge_root"/>
    <menuitem id="passenger_services" name="Services"
              action="passenger_details_action" sequence="3"
              parent="airport_lounge.airport_lounge_root"/>


</odoo>

